{"version":3,"sources":["../webpack/universalModuleDefinition","utils/publicPath.js","assets/imgs/avatar.png","components/checkbox/index.tsx","views/todos/todosItem.js","utils/ipcRenderer.js","views/search/index.js","views/header/index.js","utils/dialog.tsx","utils/request.js","api/todo.js","views/todos/todos.js","routers/index.js","App.js","reportWebVitals.js","index.js"],"names":["root","factory","exports","module","define","amd","this","__webpack_public_path__","window","__INJECTED_PUBLIC_PATH_BY_QIANKUN__","CheckBox","props","state","checked","onClick","setState","checkboxClass","className","handleChecked","bind","Component","ToDosItem","isEdit","penddingContent","is_finish","parent","makeAsFinished","data","id","delToDo","trim","changeTodo","e","nativeEvent","target","value","style","defaultValue","content","type","onBlur","handleContentChange","changeTodoContent","title","changeItemStatus","renderEditIcon","delToDoItem","ipcRenderer","event","electron","send","Search","getDatas","placeholder","onChange","handleSearch","Header","isDesktop","undefined","handleMiNiSize","handleClose","img","require","headIcon","backgroundImage","default","refresh","renderDesktopOperation","MyDialog","dialogWrap","myDialogList","document","getElementsByClassName","lastId","length","getAttribute","callBack","getElementById","createElement","setAttribute","body","append","element","data-id","close","confirm","render","remove","request","method","url","fetchConfig","toUpperCase","includes","headers","qs","stringify","query","key","substring","Promise","resolve","reject","fetch","then","response","json","catch","error","console","port","origin","base","getTodosList","Dialog","ToDos","todoData","paddingAddedText","showLoading","debounceFlag","forEach","item","idx","a","code","getDataList","open","res","log","addToDo","keywords","clearTimeout","timer","setTimeout","toChild","map","display","viewBox","cx","cy","r","fill","handleTextChange","handleApply","baseRouterUrl","__POWERED_BY_QIANKUN__","history","createHashHistory","basename","App","to","React","Todos","RouterConfig","path","componet","component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","bootstrap","mount","ReactDOM","container","querySelector","unmount","unmountComponentAtNode","update","StrictMode"],"mappings":"CAAA,SAA2CA,EAAMC,GAC1B,kBAAZC,SAA0C,kBAAXC,OACxCA,OAAOD,QAAUD,IACQ,oBAAXG,QAAyBA,OAAOC,IAC9CD,OAAO,GAAIH,GACe,kBAAZC,QACdA,QAAQ,eAAiBD,IAEzBD,EAAK,eAAiBC,IARxB,CASGK,MAAM,WACT,O,mFCTAC,IAA0BC,OAAOC,qC,wMCDjC,OAAe,cAA0B,oC,6YCyC1BC,E,kDAvBb,WAAYC,GAAc,IAAD,8BACvB,cAAMA,IACDC,MAAQ,CACXC,QAAS,EAAKF,MAAME,UAAW,GAHV,E,iDAQzB,WACEP,KAAKK,MAAMG,UACXR,KAAKS,SAAS,CACZF,SAAUP,KAAKM,MAAMC,Y,oBAIzB,WAEE,IAAMG,EAAa,oBAAgBV,KAAKM,MAAMC,QAAU,WAAW,aAEnE,OAAO,qBAAKI,UAAWD,EAAeF,QAASR,KAAKY,cAAcC,KAAKb,Y,GApBpDc,aC2ERC,E,kDAtFb,aAAc,IAAD,8BACX,gBACKT,MAAQ,CACXU,QAAQ,EACRC,gBAAiB,IAJR,E,oDASb,SAAiBC,GAEZA,GAEHlB,KAAKS,SAAS,CACZO,QAAShB,KAAKM,MAAMU,W,4BAKxB,WACEhB,KAAKK,MAAMc,OAAOC,eAAepB,KAAKK,MAAMgB,KAAKC,M,yBAInD,WACEtB,KAAKK,MAAMc,OAAOI,QAAQvB,KAAKK,MAAMgB,KAAKC,M,+BAI5C,WACMtB,KAAKM,MAAMW,iBAAoBjB,KAAKM,MAAMW,gBAAgBO,QAK9DxB,KAAKK,MAAMc,OAAOM,WAAWzB,KAAKK,MAAMgB,KAAKC,GAAItB,KAAKM,MAAMW,iBAE5DjB,KAAKS,SAAS,CACZO,QAAQ,EACRC,gBAAiB,MARjBjB,KAAKS,SAAS,CAAEO,QAAQ,M,iCAa5B,SAAoBU,GAClB1B,KAAKS,SAAS,CAAEQ,gBAAiBS,EAAEC,YAAYC,OAAOC,U,4BAGxD,SAAeX,GACb,OAAQA,EAQN,qBAAKP,UAAU,YAAf,SACE,mBAAGA,UAAU,kBAAkBmB,MAAO,CAAC,MAAQ,YAPjD,qBAAKnB,UAAU,YAAf,SACE,mBAAGA,UAAU,wB,oBAWnB,WACE,IAAMU,EAAOrB,KAAKK,MAAMgB,KACxB,OACErB,KAAKM,MAAMU,OACR,sBAAKL,UAAU,6BAAf,UACC,uBAAOA,UAAU,eAAeoB,aAAcV,EAAKW,QAASC,KAAK,OAAOC,OAAQlC,KAAKmC,oBAAoBtB,KAAKb,QAC9G,wBAAQW,UAAU,aAAaH,QAASR,KAAKoC,kBAAkBvB,KAAKb,MAApE,0BACA,wBAAQW,UAAU,aAAa0B,MAAM,eAAK7B,QAASR,KAAKsC,iBAAiBzB,KAAKb,KAAM,GAApF,kBAED,sBAAKW,UAAW,eAAiBU,EAAKH,UAAY,YAAc,IAAhE,UACC,qBAAKP,UAAU,eAAeH,QAASR,KAAKsC,iBAAiBzB,KAAKb,KAAMqB,EAAKH,WAA7E,SAA2FG,EAAKW,UAC9FhC,KAAKuC,eAAelB,EAAKH,WAC3B,qBAAKP,UAAU,aAAf,SACE,cAAC,EAAD,CAAU0B,MAAQhB,EAAKH,UAAY,uCAAW,uCAAWX,QAASc,EAAKH,UAAWV,QAASR,KAAKoB,eAAeP,KAAKb,UAEtH,wBAAQW,UAAU,aAAa0B,MAAM,eAAK7B,QAASR,KAAKwC,YAAY3B,KAAKb,MAAzE,SACE,mBAAGW,UAAU,+B,GAjFDG,a,YCET2B,MANf,SAAqBC,GAChBxC,OAAOyC,UACRzC,OAAOyC,SAASF,YAAYG,KAAKF,ICsBtBG,G,wDApBX,aAAc,IAAD,8BACT,gBACKvC,MAAQ,GAFJ,E,gDAKb,SAAaoB,IAEToB,EADqB9C,KAAKK,MAAlByC,UACCpB,EAAEE,OAAOC,MAAML,U,oBAG5B,WACI,OACI,sBAAKb,UAAU,cAAf,UACI,qBAAKA,UAAU,gBACf,uBAAOA,UAAU,cAAcoC,YAAY,6CAAUC,SAAUhD,KAAKiD,aAAapC,KAAKb,e,GAfjFc,cC+DNoC,E,kDA3Db,aAAc,IAAD,8BACX,gBACK5C,MAAQ,CACX6C,eAA+BC,IAApBlD,OAAOyC,UAHT,E,+CAQb,WACEF,EAAY,e,4BAId,WACEA,EAAY,a,oCAId,WACE,OAAOzC,KAAKM,MAAM6C,UAEd,sBAAKxC,UAAU,YAAf,UACE,qBAAKA,UAAU,WAAW0B,MAAM,qBAAM7B,QAASR,KAAKqD,eAAexC,KAAKb,MAAxE,eACA,qBAAKW,UAAU,YAAY0B,MAAM,eAAK7B,QAASR,KAAKsD,YAAYzC,KAAKb,MAArE,uBAGF,K,oBAGN,WAAS,IACC8C,EAAa9C,KAAKK,MAAlByC,SACFS,EAAMC,EAAQ,IACdC,EAAW,CACfC,gBAAgB,OAAD,OAASH,EAAII,QAAb,MAEXC,EAAU,WACdd,KAEF,OACE,sBAAKnC,UAAU,eAAf,UACE,qBAAKA,UAAU,WACf,qBAAKA,UAAU,sBAAsBH,QAASoD,IAC9C,oBAAGjD,UAAU,cAAcH,QAASoD,EAApC,+BAEE,sBAAMjD,UAAU,UAAhB,SAA4BX,KAAKM,MAAM6C,UAAY,KAAO,WAE5D,qBAAKxC,UAAU,SAAf,SACE,cAAC,EAAD,CAAQmC,SAAUA,MAEpB,sBAAKnC,UAAU,YAAf,UACE,qBAAKA,UAAU,YAAYmB,MAAO2B,IAClC,qBAAK9C,UAAU,YAAf,SAA2B,iEAE3BX,KAAK6D,gC,GAtDM/C,aCsDNgD,G,uDA/CbxC,GAAa,E,KACbyC,WAA6B,K,gDAE7B,WACE,IAAMC,EAAeC,SAASC,uBAAuB,cAAgB,GAC/DC,EAASH,EAAaI,OACvBJ,EAAaA,EAAaI,OAAS,GAAGC,aAAa,WACpD,EACJrE,KAAKsB,GAAK6C,GAAUA,EAAS,EAAI,I,kBAGnC,SAAKG,GACH,IAAIP,EAAaE,SAASM,eAAe,kBACrCR,EAKF/D,KAAK+D,WAAaA,GAJlB/D,KAAK+D,WAAaE,SAASO,cAAc,OACzCxE,KAAK+D,WAAWU,aAAa,KAAM,kBACnCR,SAASS,KAAKC,OAAO3E,KAAK+D,aAK5B,IAAMa,EAAW,sBAAKjE,UAAU,YAAYkE,UAAS7E,KAAKsB,GAAzC,UACf,qBAAKX,UAAU,kBAAf,sCACA,qBAAKA,UAAU,oBAAf,mDACA,sBAAKA,UAAU,sBAAf,UACE,qBAAKA,UAAU,SAASH,QAASR,KAAK8E,MAAMjE,KAAKb,MAAjD,0BACA,qBAAKW,UAAU,UAAUH,QAASR,KAAK+E,QAAQlE,KAAKb,KAAMsE,GAA1D,gCAIJU,iBAAOJ,EAAS5E,KAAK+D,c,mBAGvB,WAAQ,IAAD,EACL,UAAA/D,KAAK+D,kBAAL,SAAiBkB,W,qBAGnB,SAAQX,GACNA,GAAYA,IACZtE,KAAK8E,U,oBAGP,WACE9E,KAAK8E,Y,uBCpBMI,MAlCf,SAAkBC,EAAQC,EAAK/D,GAC7B,IAAMgE,EAAc,CAClBF,OAAQA,EAAOG,eAajB,GARG,CAAC,OAAQ,UAAUC,SAASF,EAAYF,UACzCE,EAAYG,QAAU,CACpB,eAAgB,qCAGlBH,EAAYX,KAAOe,IAAGC,UAAUrE,IAG/B,CAAC,OAAOkE,SAASF,EAAYF,QAAS,CACvC,IAAIQ,EAAQ,GACZ,IAAK,IAAMC,KAAOvE,EAChBsE,GAASC,EAAM,IAAMvE,EAAKuE,GAAQ,IAEpCD,EAAQA,EAAME,UAAU,EAAGF,EAAMvB,OAAS,GAC1CgB,GAAO,IAAMO,EAIf,OAAO,IAAIG,SAAQ,SAACC,EAASC,GAC3BC,MAAMb,EAAKC,GAAaa,MAAK,SAAAC,GAC3BJ,EAAQI,EAASC,WAChBC,OAAM,SAAAC,GACPC,QAAQD,MAAMA,UC5BdE,EAAOtG,OAAOuG,OAAOlB,SAAS,SAAW,KAAO,KAChDmB,EAAI,0BAAsBF,GAGnBG,EAAe,SAACtF,GAC3B,OAAO6D,EAAQ,MAAOwB,EAAO,gBAAiBrF,ICF1CuF,EAAS,IAAI9C,EA0KJ+C,E,kDAvKb,aAAc,IAAD,8BACX,gBACKvG,MAAQ,CACXwG,SAAU,GAKVC,iBAAkB,GAClBC,aAAa,EACbC,aAAc,MAVL,E,kDAkBb,SAAe3F,GAAK,IAAD,OACTwF,EAAa9G,KAAKM,MAAlBwG,SACRA,EAASI,QAAT,uCAAiB,WAAOC,EAAMC,GAAb,SAAAC,EAAA,yDACZF,EAAK7F,KAAOA,EADA,gCDFMD,ECKU,CAC3BC,GAAI6F,EAAK7F,GACTJ,UAAuC,IAA5B4F,EAASM,GAAKlG,UAAkB,EAAI,GDNhDgE,EAAQ,OAAQwB,EAAO,cAAerF,GCC1B,UAOG,MAPH,OAONiG,KAPM,iDAQb,EAAKC,cARQ,iCDFK,IAAClG,ICEN,OAAjB,2D,qBAkBF,SAAQC,GAAI,IAAD,OACTsF,EAAOY,MAAK,WACW,EAAKlH,MAAlBwG,SACCI,QAAT,uCAAiB,WAAOC,EAAMC,GAAb,eAAAC,EAAA,yDACZF,EAAK7F,KAAOA,EADA,gCD3Bd4D,EAAQ,SAAUwB,EAAO,cC8BK,CAAEpF,OAHlB,OAGPmG,EAHO,OAIblB,QAAQmB,IAAID,GACZ,EAAKF,cALQ,2CAAjB,8D,4DAgBJ,WAAcvF,GAAd,eAAAqF,EAAA,sEDhDOnC,EAAQ,OAAQwB,EAAO,WC0DF,CAAE1E,YAV9B,OAUQyF,EAVR,OAWElB,QAAQmB,IAAID,GAXd,2C,+EAmBA,SAAWnG,EAAIU,GAAS,IAAD,OACb8E,EAAa9G,KAAKM,MAAlBwG,SACRA,EAASI,QAAT,uCAAiB,WAAOC,EAAMC,GAAb,eAAAC,EAAA,yDACZF,EAAK7F,KAAOA,EADA,uBAEbwF,EAASM,GAAKpF,QAAUA,EAFX,SD3EMX,EC8EU,CAC3BC,GAAI6F,EAAK7F,GACTU,QAASmF,EAAKnF,SD/EfkD,EAAQ,OAAQwB,EAAO,cAAerF,GC0E1B,OAGPoG,EAHO,OAOblB,QAAQmB,IAAID,GACZ,EAAKF,cARQ,iCD3EK,IAAClG,IC2EN,OAAjB,2D,8BAcF,SAAiBK,GACf1B,KAAKS,SAAS,CACZsG,iBAAkBrF,EAAEC,YAAYC,OAAOC,U,gEAI3C,4BAAAwF,EAAA,0DACUN,EAAqB/G,KAAKM,MAA1ByG,mBACiBA,EAAiBvF,OAF5C,iEAGQxB,KAAK2H,QAAQZ,GAHrB,OAME/G,KAAKS,SAAS,CACZsG,iBAAkB,KAGpB9C,SAASC,uBAAuB,mBAAmB,GAAGrC,MAAQ,GAE9D7B,KAAKuH,cAZP,gD,+EAeA,WAA4B,IAAD,OAAfK,EAAe,uDAAJ,GACrB5H,KAAKS,SAAS,CAAEuG,aAAa,IAE1BhH,KAAKM,MAAM2G,cACZY,aAAa7H,KAAKM,MAAM2G,cAG1B,IAAMa,EAAQC,WAAU,sBAAC,4BAAAV,EAAA,sEACLV,EAAa,CAC7BiB,aAFqB,OAIP,OAHVH,EADiB,QAIhBH,MACL,EAAK7G,SAAS,CAACuG,aAAa,EAAOF,SAAUW,EAAIpG,OAL5B,2CAOtB,KACHrB,KAAKS,SAAS,CAACwG,aAAca,M,qBAI/B,SAAQF,GAAU,IAAD,OACf,OAAO,SAACA,GACN,EAAKL,YAAYK,M,+BAIrB,WACE5H,KAAKuH,gB,oBAGP,WAAU,IAAD,OACP,OACE,sBAAK5G,UAAU,aAAf,UACE,cAAC,EAAD,CAAQmC,SAAU9C,KAAKgI,YACvB,sBAAKrH,UAAU,aAAf,UACIX,KAAKM,MAAMwG,SAASmB,KAAI,SAAAd,GACxB,OAAO,cAAC,EAAD,CAAyB9F,KAAM8F,EAAMhG,OAAQ,GAA7BgG,EAAK7F,OAE9B,qBAAKX,UAAU,eAAemB,MAAO,CAACoG,QAASlI,KAAKM,MAAM0G,YAAc,QAAU,QAAlF,SACE,sBAAMrG,UAAU,UAAhB,SACE,qBAAKwH,QAAQ,cAAcxH,UAAU,cAArC,SACE,wBAAQyH,GAAG,KAAKC,GAAG,KAAKC,EAAE,KAAKC,KAAK,kBAK5C,sBAAK5H,UAAU,kBAAf,UACE,uBAAOA,UAAU,kBAAkBoC,YAAY,mCAAUb,OAAQlC,KAAKwI,iBAAiB3H,KAAKb,QAC5F,qBAAKW,UAAU,QAAQH,QAASR,KAAKyI,YAAY5H,KAAKb,MAAtD,oC,GAjKUc,a,sBCHd4H,EAAgBxI,OAAOyI,uBAAyB,iBAAmB,GACnEC,EAAUC,YAAkB,CAChCC,SAAUJ,IAGNK,E,4JACJ,WACE,OACE,gCACE,qCACA,6BACE,6BAAI,cAAC,IAAD,CAAMC,GAAG,SAAT,8B,GANIC,IAAMnI,WAalBoI,E,4JACJ,WACE,OACE,cAAC,EAAD,Q,GAHcD,IAAMnI,WAmBXqI,E,4JAVb,WACE,OACE,eAAC,IAAD,CAAQP,QAASA,EAAjB,UACE,cAAC,IAAD,CAAOQ,KAAK,IAAIC,SAAUN,IAC1B,cAAC,IAAD,CAAOK,KAAK,SAASE,UAAWJ,W,GALbD,IAAMnI,WClBlBiI,MATf,WACE,OACE,sBAAKpI,UAAU,MAAf,UACE,cAAC,EAAD,IACA,cAAC,EAAD,QCIS4I,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBvD,MAAK,YAAkD,IAA/CwD,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,MCKN,SAAeO,IAAtB,+B,4CAAO,sBAAA1C,EAAA,sDACNd,QAAQmB,IAAI,yBADN,4C,sBAOD,SAAesC,EAAtB,kC,4CAAO,WAAqB3J,GAArB,SAAAgH,EAAA,sDACL4C,IAASjF,OAAO,cAAC,EAAD,IAAS3E,EAAM6J,UAAY7J,EAAM6J,UAAUC,cAAc,sBAAwBlG,SAASM,eAAe,SADpH,4C,sBAOA,SAAe6F,EAAtB,kC,4CAAO,WAAuB/J,GAAvB,SAAAgH,EAAA,sDACL4C,IAASI,uBACPhK,EAAM6J,UAAY7J,EAAM6J,UAAUC,cAAc,sBAAwBlG,SAASM,eAAe,SAF7F,4C,sBASA,SAAe+F,EAAtB,kC,4CAAO,WAAsBjK,GAAtB,SAAAgH,EAAA,sDACLd,QAAQmB,IAAI,eAAgBrH,GADvB,4C,sBAIP4J,IAASjF,OACP,cAAC,IAAMuF,WAAP,UACE,cAAC,EAAD,MAEFtG,SAASM,eAAe,SAM1BgF,M","file":"static/js/main.1c7fded2.chunk.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"vtodos-main\"] = factory();\n\telse\n\t\troot[\"vtodos-main\"] = factory();\n})(this, function() {\nreturn ","// eslint-disable-next-line no-undef\n__webpack_public_path__ = window.__INJECTED_PUBLIC_PATH_BY_QIANKUN__;","export default __webpack_public_path__ + \"static/media/avatar.8ac7239d.png\";","import { Component } from 'react'\nimport './index.scss'\n\ntype stateType = {\n  checked: boolean\n}\n\ntype propsType = {\n  checked: boolean\n  onClick: Function\n}\n\ninterface CheckBox {\n  state: stateType\n  props: propsType\n}\n\nclass CheckBox extends Component {\n  constructor(props:object){\n    super(props)\n    this.state = {\n      checked: this.props.checked || false\n    }\n  }\n\n  // 选择|取消选择\n  handleChecked(){\n    this.props.onClick()\n    this.setState({\n      checked: !this.state.checked\n    })\n  }\n\n  render(){\n    // 设置状态(默认|解决)\n    const checkboxClass = `check-box ${this.state.checked ? '--solved':'--default'}`\n\n    return <div className={checkboxClass} onClick={this.handleChecked.bind(this)}></div>\n  }\n}\n\nexport default CheckBox\n","import { Component  } from 'react'\nimport '../../styles/todos/todosItem.scss'\nimport CheckBox from '../../components/checkbox/index.tsx'\n\nclass ToDosItem extends Component {\n\n  constructor(){\n    super()\n    this.state = {\n      isEdit: false,\n      penddingContent: ''\n    }\n  }\n\n  // 修改状态\n  changeItemStatus(is_finish){\n    // 已完成，不可编辑\n    if(is_finish) return\n\n    this.setState({\n      isEdit: !this.state.isEdit\n    })\n  }\n\n  // 标记为已完成\n  makeAsFinished() {\n    this.props.parent.makeAsFinished(this.props.data.id)\n  }\n\n  // 删除\n  delToDoItem(){\n    this.props.parent.delToDo(this.props.data.id)\n  }\n\n  // 修改\n  changeTodoContent(){\n    if(!this.state.penddingContent || !this.state.penddingContent.trim()) {\n      this.setState({ isEdit: false })\n      return\n    }\n\n    this.props.parent.changeTodo(this.props.data.id, this.state.penddingContent)\n\n    this.setState({\n      isEdit: false,\n      penddingContent: ''\n    })\n  }\n\n  // 内容变更，更新数据\n  handleContentChange(e) {\n    this.setState({ penddingContent: e.nativeEvent.target.value })\n  }\n\n  renderEditIcon(is_finish){\n    return !is_finish\n    ? (\n      <div className=\"edit-icon\">\n        <i className=\"iconfont i-edit\"></i>\n      </div>\n    )\n    :\n    (\n      <div className=\"edit-icon\">\n        <i className=\"iconfont i-edit\" style={{'color':'gray'}}></i>\n      </div>\n    )\n  }\n\n  render(){\n    const data = this.props.data\n    return (\n      this.state.isEdit\n      ? (<div className=\"todos-item todos-item-edit\">\n          <input className=\"edit-content\" defaultValue={data.content} type=\"text\" onBlur={this.handleContentChange.bind(this)}/>\n          <button className=\"solve-icon\" onClick={this.changeTodoContent.bind(this)}>💾</button>\n          <button className=\"close-icon\" title=\"取消\" onClick={this.changeItemStatus.bind(this, 0)}>x</button>\n        </div>)\n      : (<div className={'todos-item ' + (data.is_finish ? 'is-finish' : '')}>\n          <div className=\"item-content\" onClick={this.changeItemStatus.bind(this, data.is_finish)}>{ data.content }</div>\n          { this.renderEditIcon(data.is_finish) }\n          <div className=\"solve-icon\">\n            <CheckBox title={ data.is_finish ? '标记为未完成' : '标记为已完成' } checked={data.is_finish} onClick={this.makeAsFinished.bind(this)}></CheckBox>\n          </div>\n          <button className=\"close-icon\" title=\"删除\" onClick={this.delToDoItem.bind(this)}>\n            <i className=\"iconfont i-ashbin\"></i>\n          </button>\n        </div>)\n    )\n  }\n}\n\nexport default ToDosItem\n\n// const ToDoSItem = ({data}) => {\n//   return (\n//     <div className={'todos-item ' + (data.is_finish ? 'is-finish' : '')}>\n//       <div className=\"item-content\">{ data.content }</div>\n//       <button className=\"solve-icon\" onClick={() => {\n//         console.log(data.id);\n//       }}>√</button>\n//       <button className=\"close-icon\">x</button>\n//     </div>\n//   )\n// }\n// export default ToDoSItem\n","function ipcRenderer(event){\n  if(window.electron) {\n    window.electron.ipcRenderer.send(event)\n  }\n}\n\nexport default ipcRenderer\n","import { Component } from 'react'\nimport '../../styles/search/index.scss'\n\nclass Search extends Component {\n    constructor(){\n        super()\n        this.state = {}\n    }\n\n    handleSearch(e){\n        const { getDatas } = this.props\n        getDatas(e.target.value.trim())\n    }\n\n    render(){\n        return (\n            <div className=\"search-wrap\">\n                <div className=\"search-icon\"></div>\n                <input className=\"search-body\" placeholder=\"输入关键字搜索\" onChange={this.handleSearch.bind(this)}></input>\n            </div>\n        )\n    }\n}\n\nexport default Search","import { Component } from 'react'\nimport '../../styles/header/index.scss'\nimport '../../styles/cool.scss'\nimport ipcRenderer from '../../utils/ipcRenderer'\nimport Search from '../search'\n\nclass Header extends Component {\n  constructor(){\n    super()\n    this.state = {\n      isDesktop: window.electron !== undefined\n    }\n  }\n\n  // 关闭当前窗口\n  handleClose(){\n    ipcRenderer('close-app')\n  }\n\n  // 最小化\n  handleMiNiSize(){\n    ipcRenderer('min-app')\n  }\n\n  // 渲染桌面程序的操作栏\n  renderDesktopOperation(){\n    return this.state.isDesktop ?\n      (\n        <div className=\"operation\">\n          <div className=\"mini-btn\" title=\"最小化\" onClick={this.handleMiNiSize.bind(this)}>-</div>\n          <div className=\"close-btn\" title=\"关闭\" onClick={this.handleClose.bind(this)}>✗</div>\n        </div>\n      )\n      : ''\n  }\n\n  render(){\n    const { getDatas } = this.props\n    const img = require('../../assets/imgs/avatar.png')\n    const headIcon = {\n      backgroundImage: `url(${img.default})`\n    }\n    const refresh = () => {\n      getDatas()\n    }\n    return (\n      <div className=\"todos-header\">\n        <div className=\"starry\"></div>\n        <div className=\"todos-logo viavacos\" onClick={refresh}></div>\n        <p className=\"todos-title\" onClick={refresh}>\n          微土豆\n          <span className=\"version\">{ this.state.isDesktop ? 'pc' : 'web' }</span>\n        </p>\n        <div className=\"search\">\n          <Search getDatas={getDatas}></Search>\n        </div>\n        <div className=\"user-info\">\n          <div className=\"head-icon\" style={headIcon}></div>\n          <div className=\"user-name\"><span>你的昵称</span></div>\n        </div>\n        { this.renderDesktopOperation() }\n      </div>\n    )\n  }\n}\n\nexport default Header","import { render } from 'react-dom'\nimport '../styles/dialog.scss'\n\ninterface Dialog {\n  id: number; // 弹窗id (not-use)\n  open(): void; // 打开\n  close(): void; // 关闭\n  confirm(): void; // 确认\n  cancel(): void; // 取消\n}\n\nclass MyDialog implements Dialog {\n\n  id: number = 0\n  dialogWrap: Element | null = null\n\n  construector() {\n    const myDialogList = document.getElementsByClassName('my-dialog') || []\n    const lastId = myDialogList.length \n      ? (myDialogList[myDialogList.length - 1].getAttribute('data-id')) \n      : 0\n    this.id = lastId ? +lastId + 1 : 1\n  }\n\n  open(callBack?: Function){\n    let dialogWrap = document.getElementById('my-dialog-wrap')\n    if(!dialogWrap) {\n      this.dialogWrap = document.createElement('div')\n      this.dialogWrap.setAttribute('id', 'my-dialog-wrap')\n      document.body.append(this.dialogWrap)\n    } else {\n      this.dialogWrap = dialogWrap\n    }\n\n    const element = (<div className=\"my-dialog\" data-id={this.id}>\n      <div className=\"my-dialog-title\">确认弹窗</div>\n      <div className=\"my-dialog-content\">是否确定删除?</div>\n      <div className=\"my-dialog-operation\">\n        <div className=\"cancel\" onClick={this.close.bind(this)}>取消</div>\n        <div className=\"confirm\" onClick={this.confirm.bind(this, callBack)}>确定</div>\n      </div>\n    </div>)\n\n    render(element, this.dialogWrap)\n  }\n\n  close(){\n    this.dialogWrap?.remove()\n  }\n\n  confirm(callBack?: Function){\n    callBack && callBack()\n    this.close()\n  }\n\n  cancel(){\n    this.close()\n  }\n}\n\nexport default MyDialog\n","import qs from 'qs';\n\nfunction request (method, url, data){\n  const fetchConfig = {\n    method: method.toUpperCase(),\n    // mode: \"no-cors\"\n  }\n\n  // 设置请求头\n  if(['POST', 'DELETE'].includes(fetchConfig.method)) {\n    fetchConfig.headers = {\n      'Content-Type': 'application/x-www-form-urlencoded'\n    }\n    // 设置请求体传参(序列化参数)\n    fetchConfig.body = qs.stringify(data)\n  }\n  // 设置地址栏传参\n  if(['GET'].includes(fetchConfig.method)) {\n    let query = ''\n    for (const key in data) {\n      query += key + '=' + data[key]  + '&'\n    }\n    query = query.substring(0, query.length - 1)\n    url += '?' + query\n  }\n\n\n  return new Promise((resolve, reject) => {\n    fetch(url, fetchConfig).then(response => {\n      resolve(response.json())\n    }).catch(error => {\n      console.error(error);\n    })\n  })\n}\n\nexport default request\n","import request from '../utils/request'\n// const base = 'http://localhost:3001'\n// const base = 'http://localhost:5555'\nconst port = window.origin.includes('https') ? 3002 : 3001\nconst base = `//viavacos.live:${port}`\n\n// 获取列表\nexport const getTodosList = (data) => {\n  return request('get', base + '/getTodosList', data)\n}\n\n// 更新\nexport const updateTodo = (data) => {\n  return request('post', base + '/updateTodo', data)\n}\n\n// 新增\nexport const addTodo = (data) => {\n  return request('post', base + '/addTodo', data)\n}\n\n// 删除\nexport const deleteTodo = (data) => {\n  return request('delete', base + '/deleteTodo', data)\n}\n\n// 标记完成/未完成\nexport const finishTodo = (data) => {\n  return request('post', base + '/finishTodo', data)\n}\n","import { Component } from 'react'\nimport '@/styles/todos/todos.scss'\nimport ToDosItem from './todosItem'\nimport Header from '../header'\nimport MyDialog from '@/utils/dialog.tsx'\nimport { getTodosList, updateTodo, addTodo, deleteTodo, finishTodo } from '@/api/todo'\nconst Dialog = new MyDialog()\n\nclass ToDos extends Component {\n  constructor(){\n    super()\n    this.state = {\n      todoData: [\n        // { id: 1, content: 'test1', is_finish: 0 },\n        // { id: 2, content: 'test2', is_finish: 1 },\n        // { id: 3, content: 'test3', is_finish: 0 }\n      ],\n      paddingAddedText: '',\n      showLoading: false, // 是否显示loading\n      debounceFlag: null // 防抖参数\n    }\n  }\n\n  /**\n   * 标为已完成\n   * @param {number} id 任务id \n   */\n  makeAsFinished(id) {\n    const { todoData } = this.state\n    todoData.forEach(async (item, idx) => {\n      if(item.id === id) {\n        // todoData[idx].is_finish = todoData[idx].is_finish == 1 ? 0 : 1\n        const res = await finishTodo({\n          id: item.id,\n          is_finish: todoData[idx].is_finish === 1 ? 0 : 1\n        })\n        if(res.code !== 200) return\n        this.getDataList()\n      }\n    })\n    // this.setState({todoData})\n  }\n\n  /**\n   * 删除任务\n   * @param {number} id 任务id \n   */\n  delToDo(id){\n    Dialog.open(() => {\n      const { todoData } = this.state\n      todoData.forEach(async (item, idx) => {\n        if(item.id === id) {\n          // todoData.splice(idx, 1)\n          const res = await deleteTodo({ id })\n          console.log(res);\n          this.getDataList()\n        }\n      })\n      // this.setState({todoData})\n    })\n  }\n\n  /**\n   * 新增任务\n   * @param {String} content 任务内容\n   */\n  async addToDo(content){\n    // const { todoData } = this.state\n    // const todoItem = {\n    //   id: todoData[todoData.length - 1].id + 1,\n    //   content,\n    //   is_finish: 0\n    // }\n    // todoData.push(todoItem)\n    // this.setState({ todoData, paddingAddedText: ''})\n\n    const res = await addTodo({ content })\n    console.log(res);\n  }\n\n  /**\n   * 修改任务\n   * @param {Number} id \n   * @param {String} content \n   */\n  changeTodo(id, content){\n    const { todoData } = this.state\n    todoData.forEach(async (item, idx) => {\n      if(item.id === id) {\n        todoData[idx].content = content\n        const res = await updateTodo({\n          id: item.id,\n          content: item.content\n        })\n        console.log(res);\n        this.getDataList()\n      }\n    })\n    // this.setState({todoData})\n  }\n\n  handleTextChange(e) {\n    this.setState({\n      paddingAddedText: e.nativeEvent.target.value\n    })\n  }\n\n  async handleApply(){\n    const { paddingAddedText } = this.state\n    if(!paddingAddedText || !paddingAddedText.trim()) return\n    await this.addToDo(paddingAddedText)\n\n    // 清空数据\n    this.setState({\n      paddingAddedText: ''\n    })\n    // 清空dom展示\n    document.getElementsByClassName('operation-input')[0].value = ''\n\n    this.getDataList()\n  }\n\n  getDataList(keywords = '') {\n    this.setState({ showLoading: true })\n    // 防个抖\n    if(this.state.debounceFlag) {\n      clearTimeout(this.state.debounceFlag)\n    }\n\n    const timer = setTimeout(async () => {\n      const res = await getTodosList({\n        keywords // 搜索关键词\n      })\n      if(res.code === 200) {\n        this.setState({showLoading: false, todoData: res.data})\n      }\n    }, 300);\n    this.setState({debounceFlag: timer})\n  }\n\n  // 传给子组件的函数(闭包保留当前this)\n  toChild(keywords){\n    return (keywords) => {\n      this.getDataList(keywords)\n    }\n  }\n\n  componentDidMount(){\n    this.getDataList()\n  }\n\n  render() {\n    return (\n      <div className=\"todos-wrap\">\n        <Header getDatas={this.toChild()}></Header>\n        <div className=\"todos-body\">\n          { this.state.todoData.map(item => {\n            return <ToDosItem key={item.id} data={item} parent={this}></ToDosItem>\n          }) }\n          <div className=\"loading-wrap\" style={{display: this.state.showLoading ? 'block' : 'none'}}>\n            <span className=\"loading\">\n              <svg viewBox=\"25 25 50 50\" className=\"loading-svg\">\n                <circle cx=\"50\" cy=\"50\" r=\"20\" fill=\"none\"></circle>\n              </svg>\n            </span>\n          </div>\n        </div>\n        <div className=\"todos-operation\">\n          <input className=\"operation-input\" placeholder=\"在这里输入~~\" onBlur={this.handleTextChange.bind(this)} />\n          <div className=\"apply\" onClick={this.handleApply.bind(this)}>提交</div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default ToDos\n","import React from 'react'\nimport { createHashHistory } from 'history'\nimport { Router, Route, Link } from 'react-router-dom'\nimport ToDos from '../views/todos/todos'\n\nconst baseRouterUrl = window.__POWERED_BY_QIANKUN__ ? '/subapp/vtodos' : ''\nconst history = createHashHistory({\n  basename: baseRouterUrl\n})\n\nclass App extends React.Component {\n  render() {\n    return (\n      <div>\n        <h1>App</h1>\n        <ul>\n          <li><Link to=\"/todos\">Todos</Link></li>\n        </ul>\n      </div>\n    )\n  }\n}\n\nclass Todos extends React.Component {\n  render() {\n    return (\n      <ToDos></ToDos>\n    )\n  }\n}\n\nclass RouterConfig extends React.Component {\n  render() {\n    return (\n      <Router history={history}>\n        <Route path=\"/\" componet={App}></Route>\n        <Route path=\"/todos\" component={Todos}></Route>\n      </Router>\n    )\n  }\n}\n\nexport default RouterConfig","import './styles/App.scss';\nimport ToDos from './views/todos/todos'\nimport RouterConfig from './routers/index'\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <RouterConfig></RouterConfig>\n      <ToDos></ToDos>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import '@/utils/publicPath' // 解决qiankun框架问题\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.scss';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport '@/assets/iconfonts/iconfont.css'\n\n/**\n * bootstrap 只会在微应用初始化的时候调用一次，下次微应用重新进入时会直接调用 mount 钩子，不会再重复触发 bootstrap。\n * 通常我们可以在这里做一些全局变量的初始化，比如不会在 unmount 阶段被销毁的应用级别的缓存等。\n */\n export async function bootstrap() {\n  console.log('react app bootstraped');\n}\n\n/**\n * 应用每次进入都会调用 mount 方法，通常我们在这里触发应用的渲染方法\n */\nexport async function mount(props) {\n  ReactDOM.render(<App />, props.container ? props.container.querySelector('#container-wrapper') : document.getElementById('root'));\n}\n\n/**\n * 应用每次 切出/卸载 会调用的方法，通常在这里我们会卸载微应用的应用实例\n */\nexport async function unmount(props) {\n  ReactDOM.unmountComponentAtNode(\n    props.container ? props.container.querySelector('#container-wrapper') : document.getElementById('root'),\n  );\n}\n\n/**\n * 可选生命周期钩子，仅使用 loadMicroApp 方式加载微应用时生效\n */\nexport async function update(props) {\n  console.log('update props', props);\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}